# YGOCDB-Card-Search-Agent
一个基于LLM和YGOCDB(百鸽(ygocdb.com) MCP Server)的智能游戏王卡片查询系统，通过对话机制实现精准的卡片搜索和效果解析。
## 功能特性

- **智能搜索**: 使用大语言模型理解用户意图，精确匹配卡片
- **多轮对话**: 通过LLM交互选取最相关卡片ID，避免歧义
- **详细解析**: 针对卡牌效果进行专业分析，提取核心要点
- **双模式服务**: 支持直接的百鸽查卡服务和加入了智能体的查卡模式
- **实时数据**: 直接调用YGOCDB官方API，确保数据实时准确

## 实现方式

本项目采用分层架构：

### 1. 核心组件
- **MCP客户端 (mcp_client.py)**: 实现与YGOCDB API的直接通信
- **卡片查询模块 (card_query.py)**: 封装搜索和获取卡片详情的业务逻辑
- **渲染输出模块 (output_renderer.py)**: 负责美化输出格式，提升用户体验
- **智能对话引擎 (main.py)**: 基于LLM的对话协调器
- **配置管理**: 通过config.json文件管理API密钥和模型配置

### 2. 工作流程
1. **用户输入** → 自然语言理解
2. **LLM调用** → 提取关键词，搜索相关卡片ID
- **ID选择** → LLM基于搜索结果选取最匹配的卡片
- **详情获取** → 通过选定ID获取完整卡片信息
4. **效果解析** → 将复杂的游戏王效果文本转化为易于理解的说明
5. **智能输出** → 提取核心信息，避免罗列无趣的面板数据

## 使用说明

### 环境要求
- Python 3.11+（推荐3.12）
- 有效的API密钥（配置在config.json中）

### 启动方式
```bash
python main.py
```

系统将提供两个主要服务模式：
- **【1】百鸽查卡服务** - 直接关键词搜索
- **【2】智能体查卡** - 可以用自然语言询问智能体卡片相关问题

## 致谢 [百鸽](https://github.com/lieyanqzu/ygocdb-mcp)  (YGOCDB-MCP)
- 项目地址: https://github.com/lieyanqzu/ygocdb-mcp
- 百鸽提供了完善的游戏王卡片数据接口服务

## 项目结构
```
ygocdb-agent/
├── main.py              # 主程序入口，智能对话引擎
├── mcp_client.py         # MCP客户端实现
├── card_query.py         # 卡片查询业务逻辑
├── output_renderer.py    # 输出渲染美化
├── config.json           # 配置文件
└── README.md             # 项目说明文档

此 README 文件为您项目的发布提供了必要的信息和规范的格式。
